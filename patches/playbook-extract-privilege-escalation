Bottom: 87037962f2d9b690d93bfe885dc4cfb4b76e34a6
Top:    6758522c60fb2d415e4fac49a6b307e1409504ce
Author: Andrew Cooper <andrew.cooper@novatechweb.com>
Date:   2018-06-04 17:07:02 -0500

Extract privilege escalation variables from playbooks

Putting these variables into vars files removes clutter from playbooks
and unnecessary boilerplate when writing new plays.


---
diff --git a/ansible-playbook/group_vars/buildbot-worker/privileges.yml b/ansible-playbook/group_vars/buildbot-worker/privileges.yml
new file mode 100644
index 00000000..705a55e5
--- /dev/null
+++ b/ansible-playbook/group_vars/buildbot-worker/privileges.yml
@@ -0,0 +1,6 @@
+---
+
+ansible_user: ansibleremote
+ansible_become: yes
+ansible_become_method: sudo
+ansible_become_user: root
diff --git a/ansible-playbook/group_vars/daedalus/privileges.yml b/ansible-playbook/group_vars/daedalus/privileges.yml
new file mode 100644
index 00000000..705a55e5
--- /dev/null
+++ b/ansible-playbook/group_vars/daedalus/privileges.yml
@@ -0,0 +1,6 @@
+---
+
+ansible_user: ansibleremote
+ansible_become: yes
+ansible_become_method: sudo
+ansible_become_user: root
diff --git a/ansible-playbook/site.yml b/ansible-playbook/site.yml
index 2def5160..4d732132 100644
--- a/ansible-playbook/site.yml
+++ b/ansible-playbook/site.yml
@@ -15,10 +15,6 @@
 
 - name: Bacula
   hosts: bacula
-  remote_user: ansibleremote
-  become: true
-  become_user: root
-  become_method: sudo
   roles:
   - role: mariadb
     mariadb_open_firewall: true
@@ -34,10 +30,6 @@
   # - role: bacula-catalog
 - name: Install/Setup Docker images and containers
   hosts: docker-hosts
-  remote_user: ansibleremote
-  become: true
-  become_user: root
-  become_method: sudo
   roles:
   - name: Setup SSH Daemon
     role: sshd
@@ -125,20 +117,12 @@
 
 - name: Assemble Bacula backup scripts
   hosts: bacula
-  remote_user: ansibleremote
-  become: true
-  become_user: root
-  become_method: sudo
   roles:
   - role: bacula-script
     assemble_scripts: true
 
 - name: Cleanup tasks
   hosts: all
-  remote_user: ansibleremote
-  become: true
-  become_user: root
-  become_method: sudo
   tasks:
   - name: Copy credentials to the /etc dir
     copy:
